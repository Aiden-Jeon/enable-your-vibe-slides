<!doctype html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>04 - Genie MCP - Enable Your Vibe</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reset.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/theme/black.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/highlight/monokai.css">
    <link rel="stylesheet" href="../../shared/assets/theme.css">
</head>
<body>
    <!-- Sidebar Navigation -->
    <button id="sidebar-toggle" class="sidebar-toggle"><span></span><span></span><span></span></button>
    <nav id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <h2>Enable Your Vibe</h2>
            <p>Vibe Coding í•¸ì¦ˆì˜¨ ì„¸ì…˜</p>
        </div>
        <ul class="sidebar-sections"></ul>
    </nav>
    <div id="sidebar-overlay" class="sidebar-overlay"></div>

    <div class="reveal"><div class="slides">

        <!-- Slide 1: Title -->
        <section>
            <h1>Genie MCP</h1>
            <p>Genie MCP ì„œë²„ ë§Œë“¤ê¸°</p>
            <p style="margin-top: 2em; font-size: 0.7em; color: var(--ev-text-muted);">
                Section 04 | Hands-on | 30ë¶„
            </p>
            <aside class="notes">
                ì´ë²ˆ ì„¹ì…˜ì—ì„œëŠ” Databricks Genie Spaceë¥¼ APIë¡œ ì§ì ‘ ìƒì„±í•˜ê³ ,
                ì´ë¥¼ MCP ì„œë²„ë¡œ ë˜í•‘í•˜ì—¬ Claude Codeì—ì„œ ìì—°ì–´ë¡œ ë°ì´í„°ë¥¼ ì§ˆì˜í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ êµ¬ì¶•í•©ë‹ˆë‹¤.
                Section 03ì—ì„œ ë°°ìš´ MCP ì•„í‚¤í…ì²˜ë¥¼ ì‹¤ì œë¡œ ì ìš©í•˜ëŠ” í•µì‹¬ ì‹¤ìŠµì…ë‹ˆë‹¤.
            </aside>
        </section>

        <!-- Slide 2: í•™ìŠµ ëª©í‘œ -->
        <section>
            <h2>í•™ìŠµ ëª©í‘œ</h2>
            <ul>
                <li class="fragment" data-fragment-index="0">Genie Space ìƒì„± APIì™€ serialized_space í˜•ì‹ì„ ì´í•´í•œë‹¤</li>
                <li class="fragment" data-fragment-index="0">FastMCPë¡œ Space ìƒì„± + ì§ˆì˜ MCP ì„œë²„ë¥¼ êµ¬í˜„í•œë‹¤</li>
                <li class="fragment" data-fragment-index="0">Claude Codeì—ì„œ Genie MCPë¥¼ ì—°ê²°í•˜ì—¬ Space ìƒì„± ë° ë°ì´í„° ì§ˆì˜</li>
            </ul>
            <div class="emphasis-box fragment" data-fragment-index="0" style="margin-top: 1.5em;">
                <strong>í•µì‹¬:</strong> Space ìƒì„±ë¶€í„° ì§ˆì˜ê¹Œì§€ â€” Genieì˜ ì „ì²´ ë¼ì´í”„ì‚¬ì´í´ì„ APIë¡œ ì œì–´í•©ë‹ˆë‹¤
            </div>
            <aside class="notes">
                ì„¸ ê°€ì§€ í•™ìŠµ ëª©í‘œë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.
                ì²«ì§¸, Genie Spaceë¥¼ APIë¡œ ì§ì ‘ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤. UIì—ì„œë§Œ ê°€ëŠ¥í•˜ë˜ ê²ƒì„ ì½”ë“œë¡œ ìë™í™”í•©ë‹ˆë‹¤.
                ë‘˜ì§¸, ì´ APIë¥¼ FastMCPë¡œ ê°ì‹¸ì„œ MCP ì„œë²„ë¥¼ ë§Œë“­ë‹ˆë‹¤.
                ì…‹ì§¸, ë§Œë“  ì„œë²„ë¥¼ Claude Codeì— ì—°ê²°í•´ì„œ Space ìƒì„±ê³¼ ë°ì´í„° ì§ˆì˜ë¥¼ ëª¨ë‘ ìˆ˜í–‰í•©ë‹ˆë‹¤.
                í•µì‹¬ì€ Genieì˜ ì „ì²´ ë¼ì´í”„ì‚¬ì´í´ì„ ì½”ë“œë¡œ ì œì–´í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
            </aside>
        </section>

        <!-- Slide 3: Genie API êµ¬ì¡° -->
        <section>
            <h2>Genie API êµ¬ì¡°</h2>
            <table>
                <thead>
                    <tr>
                        <th>ê¸°ëŠ¥</th>
                        <th>ë©”ì„œë“œ</th>
                        <th>ì—”ë“œí¬ì¸íŠ¸</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="fragment" data-fragment-index="0">
                        <td><strong>Space ìƒì„±</strong></td>
                        <td><code>POST</code></td>
                        <td><code>/api/2.0/genie/spaces</code></td>
                    </tr>
                    <tr class="fragment" data-fragment-index="0">
                        <td><strong>ëŒ€í™” ìƒì„±</strong></td>
                        <td><code>POST</code></td>
                        <td><code>/api/2.0/genie/spaces/{id}/conversations</code></td>
                    </tr>
                    <tr class="fragment" data-fragment-index="0">
                        <td><strong>ë©”ì‹œì§€ ì „ì†¡</strong></td>
                        <td><code>POST</code></td>
                        <td><code>.../conversations/{id}/messages</code></td>
                    </tr>
                    <tr class="fragment" data-fragment-index="0">
                        <td><strong>ê²°ê³¼ ì¡°íšŒ</strong></td>
                        <td><code>GET</code></td>
                        <td><code>.../messages/{id}</code></td>
                    </tr>
                </tbody>
            </table>
            <div class="emphasis-box fragment" style="margin-top: 1em;">
                <strong>ì¸ì¦:</strong> Bearer í† í° &mdash; <code>Authorization: Bearer {token}</code>
            </div>
            <p class="fragment" style="margin-top: 0.8em; font-size: 0.7em;">
                ğŸ“– OpenAPI ìŠ¤í™: <a href="https://openapi.dev.databricks.com/api/workspace/genie" target="_blank" style="color: var(--ev-accent);">openapi.dev.databricks.com/api/workspace/genie</a>
            </p>
            <aside class="notes">
                Genie APIëŠ” í¬ê²Œ ë‘ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ë‰©ë‹ˆë‹¤.
                ë¨¼ì € Space ìƒì„± API â€” POST /genie/spacesë¡œ ìƒˆ Spaceë¥¼ ë§Œë“­ë‹ˆë‹¤.
                ê·¸ ë‹¤ìŒ ì§ˆì˜ API â€” ëŒ€í™” ìƒì„±, ë©”ì‹œì§€ ì „ì†¡, ê²°ê³¼ ì¡°íšŒì˜ 3ë‹¨ê³„ì…ë‹ˆë‹¤.
                ì´ë²ˆ ì‹¤ìŠµì—ì„œëŠ” Space ìƒì„±ë¶€í„° ì§ˆì˜ê¹Œì§€ ì „ì²´ íë¦„ì„ ë‹¤ë£¹ë‹ˆë‹¤.
                ì¸ì¦ì€ Databricks Personal Access Tokenì„ Bearer ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.
            </aside>
        </section>

        <!-- Slide 5: ì „ì²´ API íë¦„ ë‹¤ì´ì–´ê·¸ë¨ -->
        <section>
            <h2>ì „ì²´ API íë¦„</h2>
            <div class="diagram">
<pre style="background: transparent; border: none; box-shadow: none; text-align: center; font-size: 0.85em;">
Client                               Genie API
  |                                      |
  |  POST /genie/spaces                  |
  |    { title, warehouse_id,            |
  |     serialized_space }               |
  |------------------------------------->|
  |  { space_id }                        |
  |<-------------------------------------|
  |                                      |
  |  POST /spaces/{id}/conversations     |
  |------------------------------------->|
  |  { conversation_id }                 |
  |<-------------------------------------|
  |                                      |
  |  POST /conversations/{id}/messages   |
  |    { content: "Top 10 products?" }   |
  |------------------------------------->|
  |  { message_id }                      |
  |<-------------------------------------|
  |                                      |
  |  GET /messages/{id}  (polling)       |
  |------------------------------------->|
  |  { status: "COMPLETED", ... }        |
  |<-------------------------------------|
</pre>
            </div>
            <aside class="notes">
                ì „ì²´ íë¦„ì„ ë³´ë©´: ë¨¼ì € Spaceë¥¼ ìƒì„±í•˜ì—¬ space_idë¥¼ ë°›ìŠµë‹ˆë‹¤.
                ê·¸ ë‹¤ìŒ ëŒ€í™”ë¥¼ ì‹œì‘í•˜ê³ , ì§ˆë¬¸ì„ ë³´ë‚´ê³ , ê²°ê³¼ë¥¼ í´ë§í•©ë‹ˆë‹¤.
                Space ìƒì„± ì‹œ serialized_space í•„ë“œê°€ í•µì‹¬ì¸ë°,
                ì´ê²ƒì€ í…Œì´ë¸” ì •ë³´, ì§€ì‹œì‚¬í•­, ì˜ˆì œ ì§ˆë¬¸ì„ protobuf v2 JSON í˜•ì‹ìœ¼ë¡œ ë‹´ê³  ìˆìŠµë‹ˆë‹¤.
                ì´ ì „ì²´ íë¦„ì„ MCP ì„œë²„ë¡œ ë˜í•‘í•  ê²ƒì…ë‹ˆë‹¤.
            </aside>
        </section>

        <!-- Slide 6: êµ¬í˜„ ì „ëµ â€” 3ê°œ Tool -->
        <section>
            <h2>MCP ì„œë²„ êµ¬í˜„ ì „ëµ: 3ê°œ Tool</h2>
            <table>
                <thead>
                    <tr>
                        <th>Tool</th>
                        <th>ê¸°ëŠ¥</th>
                        <th>í•µì‹¬ íŒŒë¼ë¯¸í„°</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="fragment" data-fragment-index="1">
                        <td><code>create_genie_space</code></td>
                        <td>Space ìƒì„±</td>
                        <td>title, tables, instructions</td>
                    </tr>
                    <tr class="fragment" data-fragment-index="1">
                        <td><code>ask_genie</code></td>
                        <td>ìƒˆ ëŒ€í™” + ì§ˆì˜</td>
                        <td>space_id, question</td>
                    </tr>
                    <tr class="fragment" data-fragment-index="1">
                        <td><code>continue_conversation</code></td>
                        <td>í›„ì† ì§ˆì˜</td>
                        <td>space_id, conversation_id, question</td>
                    </tr>
                </tbody>
            </table>
            <div class="emphasis-box fragment" style="margin-top: 1em;">
                <strong>ì„¤ê³„ í¬ì¸íŠ¸:</strong> space_idë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ ì—¬ëŸ¬ Spaceë¥¼ ìœ ì—°í•˜ê²Œ ì‚¬ìš©
            </div>
            <aside class="notes">
                MCP ì„œë²„ëŠ” 3ê°œì˜ toolì„ ì œê³µí•©ë‹ˆë‹¤.
                create_genie_spaceëŠ” ìƒˆ Spaceë¥¼ ìƒì„±í•©ë‹ˆë‹¤. í…Œì´ë¸” ì •ë³´ì™€ ì§€ì‹œì‚¬í•­ì„ ë°›ì•„ serialized_spaceë¥¼ ë‚´ë¶€ì—ì„œ êµ¬ì„±í•©ë‹ˆë‹¤.
                ask_genieëŠ” ìƒˆ ëŒ€í™”ë¥¼ ì‹œì‘í•˜ê³  ì§ˆì˜í•©ë‹ˆë‹¤. ëŒ€í™” ìƒì„±, ë©”ì‹œì§€ ì „ì†¡, í´ë§ì„ ëª¨ë‘ ë‚´ë¶€ì—ì„œ ì²˜ë¦¬í•©ë‹ˆë‹¤.
                continue_conversationì€ ê¸°ì¡´ ëŒ€í™”ì— í›„ì† ì§ˆë¬¸ì„ í•©ë‹ˆë‹¤.
                í•µì‹¬ ì„¤ê³„ í¬ì¸íŠ¸ëŠ” space_idë¥¼ í™˜ê²½ë³€ìˆ˜ê°€ ì•„ë‹Œ íŒŒë¼ë¯¸í„°ë¡œ ë°›ëŠ” ê²ƒì…ë‹ˆë‹¤.
                ì´ë ‡ê²Œ í•˜ë©´ ì—¬ëŸ¬ Spaceë¥¼ ìœ ì—°í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </aside>
        </section>

        <!-- ============================================================ -->
        <!-- Exercise 00: ì‚¬ì „ í™˜ê²½ ì²´í¬ë¦¬ìŠ¤íŠ¸ -->
        <!-- ============================================================ -->

        <section>
            <h2>Exercise 00: ì‚¬ì „ í™˜ê²½ ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>
            <p style="font-size: 0.7em; color: var(--ev-text-muted);">ì‹¤ìŠµ ì‹œì‘ ì „ í™˜ê²½ ì„¤ì •ì„ ê²€ì¦í•©ë‹ˆë‹¤</p>
            <pre><code class="language-bash" data-trim>databricks auth login --host https://e2-demo-field-eng.cloud.databricks.com -p e2-demo-field-eng
            </code></pre>
            <pre><code class="language-bash" data-trim>uv run python 04-genie-mcp/exercise_00_checklist.py
            </code></pre>
            <table style="font-size: 0.75em; margin-top: 0.8em;">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>ê²€ì¦ í•­ëª©</th>
                        <th>ë°©ë²•</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>ì¸ì¦ ì •ë³´ í™•ì¸</td>
                        <td><code>.env</code> â†’ <code>databricks CLI</code> â†’ ê¸°ë³¸ê°’ì—ì„œ ìë™ í•´ì„</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>í˜¸ìŠ¤íŠ¸ ì—°ê²°</td>
                        <td><code>GET /api/2.0/clusters/spark-versions</code></td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>SQL Warehouse</td>
                        <td><code>SELECT 1</code> ì‹¤í–‰ í™•ì¸</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>ë°ì´í„° ìŠ¤í‚¤ë§ˆ</td>
                        <td><code>shared.fashion_recommendations</code> í…Œì´ë¸” í™•ì¸</td>
                    </tr>
                </tbody>
            </table>
            <div class="emphasis-box" style="margin-top: 0.8em;">
                ëª¨ë“  âœ… í™•ì¸ í›„ Exercise 01aë¡œ ì§„í–‰í•˜ì„¸ìš”
            </div>
            <aside class="notes">
                ì‹¤ìŠµì„ ì‹œì‘í•˜ê¸° ì „ì— í™˜ê²½ì´ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
                exercise_00_checklist.pyë¥¼ ì‹¤í–‰í•˜ë©´ 4ë‹¨ê³„ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ê²€ì¦í•©ë‹ˆë‹¤.
                ì²«ì§¸, ì¸ì¦ ì •ë³´ë¥¼ í™•ì¸í•©ë‹ˆë‹¤. .env íŒŒì¼ì´ ìˆìœ¼ë©´ ê·¸ê²ƒì„ ì‚¬ìš©í•˜ê³ , ì—†ìœ¼ë©´ databricks CLI ì„¤ì •ì—ì„œ ìë™ìœ¼ë¡œ ê°€ì ¸ì˜µë‹ˆë‹¤.
                WAREHOUSE_IDë„ APIë¡œ ìë™ ì¡°íšŒë˜ë¯€ë¡œ, databricks CLIë§Œ ì„¤ì •í•˜ë©´ ë³„ë„ ì„¤ì • ì—†ì´ ë°”ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                ë‘˜ì§¸, Databricks í˜¸ìŠ¤íŠ¸ì— ì—°ê²°í•  ìˆ˜ ìˆëŠ”ì§€ ê²½ëŸ‰ API í˜¸ì¶œë¡œ í™•ì¸í•©ë‹ˆë‹¤.
                ì…‹ì§¸, SQL Warehouseê°€ ì‘ë™í•˜ëŠ”ì§€ SELECT 1ë¡œ í™•ì¸í•©ë‹ˆë‹¤. ì½œë“œìŠ¤íƒ€íŠ¸ ì‹œ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                ë„·ì§¸, shared.fashion_recommendations ìŠ¤í‚¤ë§ˆì— transactions, customers í…Œì´ë¸”ì´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
                ì´ì „ ë‹¨ê³„ê°€ ì‹¤íŒ¨í•˜ë©´ ì´í›„ ë‹¨ê³„ëŠ” ìë™ìœ¼ë¡œ ê±´ë„ˆëœë‹ˆë‹¤. ëª¨ë‘ í†µê³¼í•˜ë©´ Exercise 01aë¡œ ì§„í–‰í•©ë‹ˆë‹¤.
            </aside>
        </section>

        <!-- ============================================================ -->
        <!-- Exercise 01a: Genie Space ìƒì„± (Slides 7-11) -->
        <!-- ============================================================ -->

        <!-- Slide 7: serialized_space JSON êµ¬ì¡° -->
        <section>
            <h2>serialized_space JSON êµ¬ì¡°</h2>
            <p style="font-size: 0.7em; color: var(--ev-text-muted);">Space ìƒì„± APIì— ì „ë‹¬í•˜ëŠ” protobuf v2 JSON í˜•ì‹ì˜ ëª©í‘œ ì¶œë ¥</p>
            <pre><code class="language-json" data-trim data-noescape style="font-size: 0.8em; line-height: 1.4;">
{
  "version": 2,
  "data_sources": {
    "tables": [{"identifier": "catalog.schema.table"}]
  },
  "config": {
    "sample_questions": [{"id": "...", "question": ["ì§ˆë¬¸ í…ìŠ¤íŠ¸"]}]
  },
  "instructions": {
    "text_instructions": [
      {"id": "...", "content": ["ì§€ì‹œì‚¬í•­ í…ìŠ¤íŠ¸"]}
    ],
    "example_question_sqls": [
      {"id": "...", "question": ["ì§ˆë¬¸"], "sql": ["SELECT ..."]}
    ],
    "join_specs": [ ... ],
    "sql_snippets": { "expressions": [...], "measures": [...], "filters": [...] }
  }
}
            </code></pre>
            <div class="emphasis-box fragment" style="margin-top: 0.8em;">
                ì´ êµ¬ì¡°ë¥¼ ì½”ë“œë¡œ ìƒì„±í•©ë‹ˆë‹¤ &mdash; <code>build_serialized_space()</code>
            </div>
            <aside class="notes">
                ì´ê²ƒì´ Genie Space ìƒì„± APIì— ì „ë‹¬í•˜ëŠ” serialized_spaceì˜ ì „ì²´ JSON êµ¬ì¡°ì…ë‹ˆë‹¤.
                version 2ëŠ” protobuf v2 í˜•ì‹ì„ ì˜ë¯¸í•˜ë©°, Databricks ë‚´ë¶€ í”„ë¡œí† ì½œì…ë‹ˆë‹¤.
                data_sourcesì—ëŠ” í…Œì´ë¸” ì •ë³´, configì—ëŠ” ì˜ˆì œ ì§ˆë¬¸, instructionsì—ëŠ” ì§€ì‹œì‚¬í•­ê³¼ ì˜ˆì œ SQLì„ ë‹´ìŠµë‹ˆë‹¤.
                join_specsì™€ sql_snippetsëŠ” ì„ íƒ ì‚¬í•­ì´ì§€ë§Œ ë³µì¡í•œ ë°ì´í„° ëª¨ë¸ì—ì„œ Genieì˜ SQL í’ˆì§ˆì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.
                ì´ì œ ì´ êµ¬ì¡°ë¥¼ ìƒì„±í•˜ëŠ” ì½”ë“œë¥¼ ë‹¨ê³„ë³„ë¡œ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.
            </aside>
        </section>

        <!-- Slide 7.5: JSON â†’ Genie Space UI ë§¤í•‘ -->
        <section>
            <h2>JSON â†’ Genie Space UI ë§¤í•‘</h2>
            <p style="font-size: 0.7em; color: var(--ev-text-muted);">
                serialized_space JSONì˜ ê° í•„ë“œê°€ Genie Space UIì— ì–´ë–»ê²Œ ë°˜ì˜ë˜ëŠ”ì§€ í™•ì¸
            </p>
            <div style="display: flex; gap: 1em; justify-content: center; align-items: flex-start; margin-top: 0.5em;">
                <!-- Data íƒ­ -->
                <div style="flex: 1; text-align: center;">
                    <img src="images/genie_data.png" alt="Genie Data Tab" style="max-height: 350px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);">
                    <p style="font-size: 0.55em; color: var(--ev-accent); margin-top: 0.4em;">
                        <code>data_sources.tables</code>
                    </p>
                </div>
                <!-- Instructions íƒ­ -->
                <div style="flex: 1; text-align: center;">
                    <img src="images/genie_instructions.png" alt="Genie Instructions Tab" style="max-height: 350px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);">
                    <p style="font-size: 0.55em; color: var(--ev-accent); margin-top: 0.4em;">
                        <code>instructions</code>
                    </p>
                </div>
                <!-- Settings íƒ­ -->
                <div style="flex: 1; text-align: center;">
                    <img src="images/genie_settings.png" alt="Genie Settings Tab" style="max-height: 350px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);">
                    <p style="font-size: 0.55em; color: var(--ev-accent); margin-top: 0.4em;">
                        <code>config</code> + title
                    </p>
                </div>
            </div>
            <aside class="notes">
                ì•ì„œ ë³¸ JSON êµ¬ì¡°ê°€ ì‹¤ì œ Genie Space UIì— ì–´ë–»ê²Œ ë°˜ì˜ë˜ëŠ”ì§€ ì‹œê°ì ìœ¼ë¡œ í™•ì¸í•´ë´…ì‹œë‹¤.
                Data íƒ­ì—ëŠ” data_sources.tablesì— ì •ì˜í•œ í…Œì´ë¸”ë“¤ì´ í‘œì‹œë©ë‹ˆë‹¤.
                Instructions íƒ­ì—ëŠ” text_instructions, example_question_sqls, join_specs, sql_snippets ë“±ì´ ë°˜ì˜ë©ë‹ˆë‹¤.
                Settings íƒ­ì—ëŠ” config.sample_questionsë¡œ ì„¤ì •í•œ ì˜ˆì œ ì§ˆë¬¸ë“¤ê³¼ title, descriptionì´ í‘œì‹œë©ë‹ˆë‹¤.
                ì´ë ‡ê²Œ ì½”ë“œì—ì„œ ì •ì˜í•œ JSONì´ UIì˜ ê° íƒ­ì— 1:1ë¡œ ë§¤í•‘ë˜ë¯€ë¡œ, ì½”ë“œë§Œìœ¼ë¡œ Genie Spaceë¥¼ ì™„ì „íˆ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </aside>
        </section>

        <!-- Slide 8: Step 1 â€” Space ì„¤ì • ë°ì´í„° -->
        <section>
            <h2>Step 1: Space ì„¤ì • ë°ì´í„°</h2>
            <p style="font-size: 0.7em; color: var(--ev-text-muted);">í…Œì´ë¸”, ì§€ì‹œì‚¬í•­, ì˜ˆì œ ì§ˆë¬¸/SQL, SQL ìŠ¤ë‹ˆí« ì •ì˜</p>
            <pre><code class="language-python" data-trim data-noescape style="font-size: 0.8em; line-height: 1.4;">
tables = [
    {"catalog": "jongseob_demo", "schema": "fashion_recommendations", "table": "transactions"},
    {"catalog": "jongseob_demo", "schema": "fashion_recommendations", "table": "customers"},
]
instructions = [
    "## Sales Channel Mapping\n- `sales_channel_id = 1` means **Online** ...",
    # ...
]
sample_questions = [
    "How does revenue compare between online and in-store sales by month?",
    "What is the total online revenue for 2020?",
    "What are the monthly sales trends?",
    # ...
]
example_sqls = [
    {
        "question": "How does revenue compare between online and in-store sales by month?",
        "sql": "SELECT year, month, CASE WHEN ... FROM ...transactions GROUP BY ...",
    },
    # ...
]
sql_snippets = {
    "filters": [
        {
            "id": uuid4().hex,
            "sql": ["transactions.sales_channel_id = 1"],
            "display_name": "Online Sales Only",
            "synonyms": ["online", "web sales"]
        },
        # ...
    ],
    "expressions": [
        {
            "id": uuid4().hex,
            "alias": "transaction_month",
            "sql": ["transactions.month"],
            "display_name": "Transaction Month",
            "synonyms": ["month", "sale month"]
        },
        # ...
    ],
    "measures": [
        {
            "id": uuid4().hex,
            "alias": "total_revenue",
            "sql": ["CAST(SUM(transactions.price) AS DECIMAL(38,2))"],
            "display_name": "Total Revenue",
            "synonyms": ["revenue", "total sales"]
        },
        # ...
    ]
}
            </code></pre>
            <aside class="notes">
                ë¨¼ì € Spaceì— ë„£ì„ ì„¤ì • ë°ì´í„°ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
                tablesëŠ” Genieê°€ ì§ˆì˜í•  í…Œì´ë¸” ëª©ë¡ì…ë‹ˆë‹¤. fashion_recommendations ìŠ¤í‚¤ë§ˆì˜ transactions, customers 2ê°œ í…Œì´ë¸”ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
                instructionsëŠ” Genieì—ê²Œ ì£¼ëŠ” ì§€ì‹œì‚¬í•­ì…ë‹ˆë‹¤ â€” ì»¬ëŸ¼ ë„¤ì´ë°, ë‚ ì§œ ì²˜ë¦¬, ì±„ë„ ë§¤í•‘, ê³ ê° ì„¸ê·¸ë¨¼íŠ¸ ê°€ì´ë“œë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
                sample_questionsëŠ” 5ê°œì˜ ì˜ˆì œ ì§ˆë¬¸, example_sqlsëŠ” 3ê°œì˜ ì§ˆë¬¸-SQL ìŒì…ë‹ˆë‹¤.
                sql_snippetsëŠ” í•„í„° 5ê°œ, í‘œí˜„ì‹ 3ê°œ, ì¸¡ì •ê°’ 4ê°œë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
                ìŠ¬ë¼ì´ë“œì—ì„œëŠ” ìš”ì•½ í‘œì‹œí•˜ì§€ë§Œ, ì „ì²´ ì½”ë“œëŠ” exercise_01a_create_space.pyì— ìˆìŠµë‹ˆë‹¤.
            </aside>
        </section>

        <!-- Slide 9: Step 2 â€” build_serialized_space() -->
        <section>
            <h2>Step 2: build_serialized_space()</h2>
            <p style="font-size: 0.7em; color: var(--ev-text-muted);">ì„¤ì • ë°ì´í„°ë¥¼ protobuf v2 JSONìœ¼ë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜</p>
            <pre><code class="language-python" data-trim data-noescape style="font-size: 0.8em; line-height: 1.4;">
def build_serialized_space(
    tables: list[dict],
    instructions: list[str],
    sample_questions: list[str],
    example_sqls: list[dict],
    join_specs: list[dict] | None = None,
    sql_snippets: dict | None = None,
) -> str:
    """Genie Spaceìš© serialized_space(protobuf v2 JSON)ë¥¼ ìƒì„±í•©ë‹ˆë‹¤."""
    inst_block: dict = {
        "text_instructions": [
            {"id": uuid4().hex, "content": instructions}
        ] if instructions else [],
        "example_question_sqls": sorted(
            [{"id": uuid4().hex, "question": [ex["question"]], "sql": [ex["sql"]]}
             for ex in example_sqls],
            key=lambda x: x["id"],
        ),
    }

    if join_specs:
        inst_block["join_specs"] = join_specs

    if sql_snippets:
        sorted_snippets = {}
        for category, items in sql_snippets.items():
            sorted_snippets[category] = sorted(items, key=lambda x: x["id"])
        inst_block["sql_snippets"] = sorted_snippets

    proto = {
        "version": 2,
        "data_sources": {
            "tables": sorted(
                [{"identifier": f"{t['catalog']}.{t['schema']}.{t['table']}"} for t in tables],
                key=lambda x: x["identifier"],
            )
        },
        "config": {
            "sample_questions": sorted(
                [{"id": uuid4().hex, "question": [q]} for q in sample_questions],
                key=lambda x: x["id"],
            )
        },
        "instructions": inst_block,
    }
    return json.dumps(proto)
            </code></pre>
            <aside class="notes">
                build_serialized_space í•¨ìˆ˜ëŠ” ì•ì—ì„œ ì •ì˜í•œ ì„¤ì • ë°ì´í„°ë¥¼ Genie APIê°€ ìš”êµ¬í•˜ëŠ” protobuf v2 JSON í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
                text_instructionsëŠ” ëª¨ë“  ì§€ì‹œì‚¬í•­ì„ í•˜ë‚˜ì˜ í•­ëª©ìœ¼ë¡œ ë³‘í•©í•˜ê³ , ëª¨ë“  id ê¸°ë°˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ì •ë ¬í•©ë‹ˆë‹¤.
                join_specsì™€ sql_snippetsëŠ” ì„ íƒ ì‚¬í•­ì´ë¯€ë¡œ ìˆì„ ë•Œë§Œ í¬í•¨í•©ë‹ˆë‹¤.
                ìµœì¢…ì ìœ¼ë¡œ json.dumpsë¡œ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ì—¬ APIì— ì „ë‹¬í•  ì¤€ë¹„ë¥¼ í•©ë‹ˆë‹¤.
            </aside>
        </section>

        <!-- Slide 10: Step 3 â€” Space ìƒì„± API í•¨ìˆ˜ -->
        <section>
            <h2>Step 3: create_genie_space()</h2>
            <p style="font-size: 0.7em; color: var(--ev-text-muted);">POST /api/2.0/genie/spacesë¡œ Spaceë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜</p>
            <pre><code class="language-python" data-trim data-noescape style="font-size: 0.8em; line-height: 1.4;">
def create_genie_space(
    title: str, description: str, warehouse_id: str, serialized_space: str,
) -> dict:
    """POST /api/2.0/genie/spacesë¡œ Spaceë¥¼ ìƒì„±í•©ë‹ˆë‹¤."""
    resp = httpx.post(
        f"{DATABRICKS_HOST}/api/2.0/genie/spaces",
        headers=headers,
        json={
            "title": title, "description": description,
            "warehouse_id": warehouse_id, "serialized_space": serialized_space,
        },
    )
    resp.raise_for_status()
    return resp.json()
            </code></pre>
            <div class="emphasis-box fragment" style="margin-top: 1em;">
                <strong>í•µì‹¬:</strong> <code>serialized_space</code>ë¥¼ ë¬¸ìì—´ë¡œ ì „ë‹¬ &mdash; JSON ì•ˆì— JSON ë¬¸ìì—´
            </div>
            <aside class="notes">
                create_genie_space í•¨ìˆ˜ëŠ” POST /genie/spaces ì—”ë“œí¬ì¸íŠ¸ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
                titleê³¼ descriptionì€ Spaceì˜ ë©”íƒ€ì •ë³´ì´ê³ ,
                warehouse_idëŠ” ì¿¼ë¦¬ ì‹¤í–‰ì— ì‚¬ìš©í•  SQL Warehouseì…ë‹ˆë‹¤.
                serialized_spaceëŠ” ì•ì„œ build_serialized_spaceë¡œ ìƒì„±í•œ JSON ë¬¸ìì—´ì„ ê·¸ëŒ€ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.
                ì£¼ì˜í•  ì ì€ serialized_spaceê°€ JSON ì•ˆì— ë¬¸ìì—´ë¡œ ë“¤ì–´ê°„ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤ â€” JSON ì•ˆì— JSON ë¬¸ìì—´ì…ë‹ˆë‹¤.
                ë‹¤ìŒ ìŠ¬ë¼ì´ë“œì—ì„œ main í•¨ìˆ˜ì˜ ì‹¤í–‰ íë¦„ì„ ë³´ê² ìŠµë‹ˆë‹¤.
            </aside>
        </section>

        <!-- Slide 11: Exercise 01a ì‹¤ìŠµ ê°€ì´ë“œ -->
        <section>
            <h2 style="font-size: 1.8em;">Exercise 01a: Space ìƒì„± ì½”ë“œ ì‹¤í–‰</h2>
            <p style="font-size: 0.85em; color: var(--ev-text-muted);">exercise_01a_create_space.py &mdash; ì™„ì„± ì½”ë“œ</p>
            <div style="text-align: left; margin: 0.8em auto; max-width: 95%;">
                <h3 style="font-size: 1.1em;">ì‹¤ìŠµ ë‹¨ê³„</h3>
                <ol style="font-size: 0.9em; line-height: 1.6;">
                    <li class="fragment">ì½”ë“œë¥¼ ì½ê³  ì£¼ìš” í•¨ìˆ˜ë¥¼ ì´í•´í•©ë‹ˆë‹¤: <br><code>build_serialized_space()</code>, <code>create_genie_space()</code></li>
                    <li class="fragment">ì½”ë“œë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤:
                        <pre style="margin: 0.4em 0;"><code class="language-bash" data-trim>
uv run python 04-genie-mcp/exercise_01a_create_space.py
                        </code></pre>
                    </li>
                    <li class="fragment">ì¶œë ¥ëœ <code>Space ID</code>ë¥¼ í™•ì¸í•©ë‹ˆë‹¤</li>
                </ol>
            </div>
            <div class="emphasis-box fragment" style="margin-top: 0.8em; font-size: 1.05em;">
                ì¶œë ¥ëœ <code>Space ID</code>ë¥¼ exercise_01bì—ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤
            </div>
            <aside class="notes">
                Exercise 01aëŠ” ì™„ì„± ì½”ë“œì…ë‹ˆë‹¤. Claude Code ì—†ì´ ë°”ë¡œ ì‹¤í–‰í•˜ì—¬ Genie APIê°€ ì •ìƒ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
                ì½”ë“œë¥¼ ì½ìœ¼ë©´ì„œ ë‘ ê°€ì§€ í•µì‹¬ í•¨ìˆ˜ë¥¼ ì´í•´í•©ë‹ˆë‹¤:
                ì²«ì§¸, build_serialized_space â€” í…Œì´ë¸”/ì§€ì‹œì‚¬í•­/ì˜ˆì œë¥¼ protobuf v2 JSONìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
                ë‘˜ì§¸, create_genie_space â€” POST /genie/spaces APIë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
                ì‹¤í–‰ í›„ ì¶œë ¥ëœ Space IDë¥¼ exercise_01bì—ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.
                APIê°€ ì •ìƒ ë™ì‘í•˜ëŠ” ê²ƒì„ í™•ì¸í•œ í›„ Exercise 01bë¡œ ì§„í–‰í•©ë‹ˆë‹¤.
            </aside>
        </section>

        <!-- ============================================================ -->
        <!-- Exercise 01b: Genie Space ì§ˆì˜ (Slides 12-14) -->
        <!-- ============================================================ -->

        <!-- Slide 14: Exercise 01b ì§ˆì˜ 3ë‹¨ê³„ íë¦„ -->
        <section>
            <h2>Exercise 01b: ì§ˆì˜ 3ë‹¨ê³„ íë¦„</h2>
            <p style="font-size: 0.7em; color: var(--ev-text-muted);">exercise_01b_query_space.py &mdash; ì™„ì„± ì½”ë“œ</p>
            <div style="text-align: left; margin: 0.8em auto; max-width: 90%;">
                <div class="diagram">
<pre style="background: transparent; border: none; box-shadow: none; text-align: center; font-size: 0.75em;">
create_conversation()     send_message()       poll_result()
  ëŒ€í™” ìƒì„±           â†’     ì§ˆë¬¸ ì „ì†¡        â†’    ê²°ê³¼ í´ë§
  conversation_id           message_id           COMPLETED
</pre>
                </div>
                <ul style="font-size: 0.65em; margin-top: 0.5em;">
                    <li><code>create_conversation</code> &mdash; <code>POST /spaces/{id}/conversations</code></li>
                    <li><code>send_message</code> &mdash; <code>POST /conversations/{id}/messages</code></li>
                    <li><code>poll_result</code> &mdash; <code>GET /messages/{id}</code> (ì ì§„ì  ë°±ì˜¤í”„)</li>
                    <li><code>format_result</code> &mdash; ì‘ë‹µì—ì„œ í…ìŠ¤íŠ¸/SQL ì¶”ì¶œ</li>
                </ul>
            </div>
            <aside class="notes">
                ì§ˆì˜ íë¦„ì€ 3ë‹¨ê³„ì…ë‹ˆë‹¤: ëŒ€í™” ìƒì„±, ì§ˆë¬¸ ì „ì†¡, ê²°ê³¼ í´ë§.
                ì½”ë“œì—ì„œ 4ê°œ í•¨ìˆ˜ì˜ ì—­í• ì„ ì´í•´í•©ë‹ˆë‹¤:
                create_conversation, send_message, poll_result, format_result.
                poll_resultì—ì„œëŠ” ì ì§„ì  ë°±ì˜¤í”„ íŒ¨í„´ì„ ì‚¬ìš©í•©ë‹ˆë‹¤ â€” 1ì´ˆì—ì„œ ì‹œì‘í•˜ì—¬ 1.5ë°°ì”© ëŠ˜ë ¤ ìµœëŒ€ 5ì´ˆê¹Œì§€ ì¦ê°€í•©ë‹ˆë‹¤.
            </aside>
        </section>

        <!-- Slide 15: Exercise 01b ì‹¤ìŠµ ê°€ì´ë“œ -->
        <section>
            <h2>Exercise 01b: Space ì§ˆì˜ ì½”ë“œ ì‹¤í–‰</h2>
            <p style="font-size: 0.8em; color: var(--ev-text-muted);">exercise_01b_query_space.py &mdash; ì‹¤ìŠµ</p>
            <div style="text-align: left; margin: 1em auto; max-width: 85%;">
                <h3 style="font-size: 1em;">ì‹¤ìŠµ ë‹¨ê³„</h3>
                <ol style="font-size: 0.85em;">
                    <li class="fragment">ì½”ë“œë¥¼ ì½ê³  ì§ˆì˜ 3ë‹¨ê³„ íë¦„ì„ ì´í•´í•©ë‹ˆë‹¤</li>
                    <li class="fragment">exercise_01aì—ì„œ ì–»ì€ Space IDë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤:
                        <pre style="margin: 0.5em 0; font-size: 0.8em;"><code class="language-bash" data-trim>
uv run python 04-genie-mcp/exercise_01b_query_space.py &lt;SPACE_ID&gt;
                        </code></pre>
                    </li>
                    <li class="fragment">ì§ˆì˜ ê²°ê³¼ë¥¼ í™•ì¸í•©ë‹ˆë‹¤</li>
                </ol>
            </div>
            <div class="emphasis-box fragment" style="margin-top: 0.8em;">
                API ë™ì‘ í™•ì¸ ì™„ë£Œ &rarr; Exercise 02ì—ì„œ MCP ì„œë²„ë¡œ ë˜í•‘í•©ë‹ˆë‹¤
            </div>
            <aside class="notes">
                Exercise 01bë„ ì™„ì„± ì½”ë“œì…ë‹ˆë‹¤. ë°”ë¡œ ì‹¤í–‰í•˜ì—¬ Genie ì§ˆì˜ APIê°€ ì •ìƒ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
                exercise_01aì—ì„œ ì¶œë ¥ëœ Space IDë¥¼ ì»¤ë§¨ë“œë¼ì¸ ì¸ìë¡œ ì „ë‹¬í•˜ì—¬ ì‹¤í–‰í•©ë‹ˆë‹¤.
                01aì™€ 01bì—ì„œ API ë™ì‘ì„ í™•ì¸í–ˆìœ¼ë‹ˆ, ì´ì œ Exercise 02ì—ì„œ ì´ ë¡œì§ì„ MCP ì„œë²„ë¡œ ë˜í•‘í•©ë‹ˆë‹¤.
            </aside>
        </section>

        <!-- ============================================================ -->
        <!-- Exercise 02: MCP ì„œë²„ (Slides 15-17) -->
        <!-- ============================================================ -->

        <!-- Slide 17: Exercise 02 MCP Tool ëª…ì„¸ -->
        <section>
            <h2>Exercise 02: MCP Tool ëª…ì„¸</h2>
            <p style="font-size: 0.7em; color: var(--ev-text-muted);">exercise_01a/01bë¥¼ ê¸°ë°˜ìœ¼ë¡œ MCP ì„œë²„ êµ¬í˜„</p>
            <div style="text-align: left; margin: 0.8em auto; max-width: 90%;">
                <table style="font-size: 0.65em; margin-top: 0.5em;">
                    <thead>
                        <tr>
                            <th>Tool</th>
                            <th>ì£¼ìš” íŒŒë¼ë¯¸í„°</th>
                            <th>ë‚´ë¶€ ë¡œì§</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>create_genie_space</code></td>
                            <td>title, tables, instructions, ...</td>
                            <td><code>_build_serialized_space</code> + <code>POST /genie/spaces</code></td>
                        </tr>
                        <tr>
                            <td><code>ask_genie</code></td>
                            <td>space_id, question</td>
                            <td>ëŒ€í™” ìƒì„± + <code>_send_and_poll</code></td>
                        </tr>
                        <tr>
                            <td><code>continue_conversation</code></td>
                            <td>space_id, conversation_id, question</td>
                            <td><code>_send_and_poll</code> (ê¸°ì¡´ ëŒ€í™” ì´ì–´ê°€ê¸°)</td>
                        </tr>
                    </tbody>
                </table>
                <p style="font-size: 0.65em; color: var(--ev-text-muted); margin-top: 0.5em;">
                    í—¬í¼: <code>_build_serialized_space()</code>, <code>_send_and_poll()</code>, <code>_format_response()</code>
                </p>
            </div>
            <div class="emphasis-box" style="margin-top: 0.8em;">
                Exercise 01a/01bì˜ ì™„ì„± ì½”ë“œê°€ ë ˆí¼ëŸ°ìŠ¤ &mdash; ë™ì¼ ë¡œì§ì„ <code>@mcp.tool()</code>ë¡œ ë˜í•‘
            </div>
            <aside class="notes">
                Exercise 02ì—ì„œ êµ¬í˜„í•  MCP ì„œë²„ì˜ Tool ëª…ì„¸ì…ë‹ˆë‹¤.
                3ê°œì˜ MCP tool(create_genie_space, ask_genie, continue_conversation)ê³¼
                3ê°œì˜ í—¬í¼ í•¨ìˆ˜(_build_serialized_space, _send_and_poll, _format_response)ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.
                Exercise 01a/01bì—ì„œ ì´ë¯¸ ë™ì‘ì„ í™•ì¸í•œ API ë¡œì§ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë˜,
                @mcp.tool() ë°ì½”ë ˆì´í„°ë¡œ ë˜í•‘í•˜ëŠ” ê²ƒì´ í•µì‹¬ì…ë‹ˆë‹¤.
            </aside>
        </section>

        <!-- Slide 18: Exercise 02 ì‹¤ìŠµ ë‹¨ê³„ -->
        <section>
            <h2>Exercise 02: ì‹¤ìŠµ ê°€ì´ë“œ</h2>
            <p style="font-size: 0.7em; color: var(--ev-text-muted);">Claude Codeë¡œ MCP ì„œë²„ ì½”ë”© ì‹¤ìŠµ</p>
            <div style="text-align: left; margin: 0.8em auto; max-width: 90%;">
                <ol style="font-size: 0.7em;">
                    <li class="fragment">ìŠ¤ì¼ˆë ˆí†¤ íŒŒì¼ì˜ TODO í™•ì¸: <code>exercise_02_genie_mcp_server.py</code></li>
                    <li class="fragment">Claude Codeì—ê²Œ êµ¬í˜„ ìš”ì²­:
                        <pre style="margin: 0.5em 0; font-size: 0.8em;"><code class="language-text" data-trim>
@04-genie-mcp/ exercise_01a, 01bë¥¼ ì°¸ê³ í•´ì„œ exercise_02ì˜ MCP ì„œë²„ë¥¼ ì™„ì„±í•´ì¤˜
                        </code></pre>
                    </li>
                    <li class="fragment">ì‹¤í–‰ ë° í…ŒìŠ¤íŠ¸:
                        <pre style="margin: 0.5em 0; font-size: 0.8em;"><code class="language-bash" data-trim>
uv run python 04-genie-mcp/exercise_02_genie_mcp_server.py
                        </code></pre>
                    </li>
                </ol>
            </div>
            <aside class="notes">
                Exercise 02ëŠ” ì´ë²ˆ ì„¹ì…˜ì˜ í•µì‹¬ ì½”ë”© ì‹¤ìŠµì…ë‹ˆë‹¤.
                ìŠ¤ì¼ˆë ˆí†¤ íŒŒì¼ì— 3ê°œ MCP toolê³¼ 3ê°œ í—¬í¼ í•¨ìˆ˜ì˜ TODOê°€ ìˆê³ ,
                ê° TODOì—ëŠ” 01a/01bì˜ ì–´ë–¤ í•¨ìˆ˜ë¥¼ ì°¸ê³ í•˜ë©´ ë˜ëŠ”ì§€ ëª…ì‹œë˜ì–´ ìˆìŠµë‹ˆë‹¤.
                Claude Codeì—ê²Œ "exercise_01a, 01bë¥¼ ì°¸ê³ í•´ì„œ exercise_02ì˜ MCP ì„œë²„ë¥¼ ì™„ì„±í•´ì¤˜"ë¼ê³  ìš”ì²­í•©ë‹ˆë‹¤.
                ì‹¤í–‰í•˜ë©´ MCP ì„œë²„ê°€ ì‹œì‘ë˜ì–´ Claude Codeì—ì„œ ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </aside>
        </section>

        <!-- ============================================================ -->
        <!-- ë§ˆë¬´ë¦¬ (Slides 18-19) -->
        <!-- ============================================================ -->

        <!-- Slide 18: Claude Code ì—°ê²° + ì‹¤ìŠµ ì•ˆë‚´ -->
        <section>
            <h2>Claude Code ì—°ê²° + ì‹¤ìŠµ ì•ˆë‚´</h2>
            <div style="display: flex; align-items: flex-start; gap: 1em;">
                <div style="flex: 1;">
                    <h3>â‘  .mcp.json ì„¤ì •</h3>
                    <pre style="font-size: 0.5em;"><code class="language-bash"># í”„ë¡œì íŠ¸ ë£¨íŠ¸ì˜ .mcp.jsonì— ì¶”ê°€
cat > .mcp.json << 'EOF'
{
  "mcpServers": {
    "genie": {
      "type": "stdio",
      "command": "uv",
      "args": [
          "run",
          "python",
          "04-genie-mcp/exercise_02_genie_mcp_server.py"
      ]
    }
  }
}
EOF</code></pre>
                </div>
                <div style="flex: 0.7;">
                    <h3>â‘¡ Claude Code ì¬ì‹œì‘</h3>
                    <pre><code class="language-bash" data-trim># Claude Code ì¢…ë£Œ í›„ ë‹¤ì‹œ ì‹¤í–‰
/exit
claude</code></pre>
                    <h3 style="margin-top: 1em;">â‘¢ ì—°ê²° í™•ì¸</h3>
                    <pre><code class="language-bash" data-trim>/mcp</code></pre>
                    <p style="font-size: 0.8em; color: var(--ev-text-muted);">
                        genie ì„œë²„ê°€ ëª©ë¡ì—<br>í‘œì‹œë˜ë©´ ì„±ê³µ!
                    </p>
                </div>
            </div>
            <div class="emphasis-box" style="margin-top: 0.8em;">
                <strong>ì‹¤ìŠµ ì›Œí¬í”Œë¡œìš°:</strong> Exercise 00 ì²´í¬ë¦¬ìŠ¤íŠ¸ â†’ 01a ì‹¤í–‰ (Space ìƒì„±) â†’ 01b ì‹¤í–‰ (ì§ˆì˜ í™•ì¸) â†’ 02 Claude Codeë¡œ MCP ì„œë²„ êµ¬í˜„ â†’ Claude Codeì— MCP ì—°ê²°
            </div>
            <aside class="notes">
                Claude Codeì—ì„œ ì‚¬ìš©í•˜ë ¤ë©´ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì˜ .mcp.jsonì— MCP ì„œë²„ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.
                ì„¤ì •ì„ ì €ì¥í•œ ë’¤ Claude Codeë¥¼ ì¬ì‹œì‘í•´ì•¼ ìƒˆ ì„œë²„ê°€ ë¡œë“œë©ë‹ˆë‹¤.
                /mcp ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ë“±ë¡ëœ MCP ì„œë²„ ëª©ë¡ê³¼ ì—°ê²° ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                genieê°€ ëª©ë¡ì— ë³´ì´ë©´ ì •ìƒì ìœ¼ë¡œ ì—°ê²°ëœ ê²ƒì…ë‹ˆë‹¤.
                ì‹¤ìŠµ ì›Œí¬í”Œë¡œìš°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:
                ë¨¼ì € Exercise 00ìœ¼ë¡œ í™˜ê²½ì„ ê²€ì¦í•©ë‹ˆë‹¤.
                Exercise 01aë¥¼ ì‹¤í–‰í•˜ì—¬ Spaceë¥¼ ìƒì„±í•˜ê³ , 01bë¥¼ ì‹¤í–‰í•˜ì—¬ ì§ˆì˜ APIë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
                API ë™ì‘ì´ í™•ì¸ë˜ë©´ Exercise 02ì—ì„œ Claude Codeë¡œ MCP ì„œë²„ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.
                ë§ˆì§€ë§‰ìœ¼ë¡œ Exercise 02ì˜ MCP ì„œë²„ë¥¼ Claude Codeì— ì—°ê²°í•˜ì—¬ ìì—°ì–´ë¡œ ì „ì²´ ì›Œí¬í”Œë¡œìš°ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.
            </aside>
        </section>

        <!-- Slide 19: ëŒ€í™” ì˜ˆì‹œ -->
        <section>
            <h2>ëŒ€í™” ì˜ˆì‹œ</h2>
            <div class="emphasis-box" style="font-size: 0.85em;">
                <p><strong>ì‚¬ìš©ì:</strong> "Fashion Recommendations ë°ì´í„°ë¡œ Genie Spaceë¥¼ ë§Œë“¤ì–´ì¤˜"</p>
                <p><strong>Claude:</strong> <code>create_genie_space</code> toolë¡œ Spaceë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>
                <p style="margin-top: 0.5em;"><strong>ì‚¬ìš©ì:</strong> "ë§¤ì¶œ Top 10 ìƒí’ˆì„ ì•Œë ¤ì¤˜"</p>
                <p><strong>Claude:</strong> <code>ask_genie</code> toolë¡œ ì§ˆì˜í•©ë‹ˆë‹¤.</p>
                <p style="margin-top: 0.5em;"><strong>ì‚¬ìš©ì:</strong> "ì˜¨ë¼ì¸/ì˜¤í”„ë¼ì¸ë³„ë¡œ ë‚˜ëˆ ì„œ ë³´ì—¬ì¤˜"</p>
                <p><strong>Claude:</strong> <code>continue_conversation</code> toolë¡œ í›„ì† ì§ˆì˜í•©ë‹ˆë‹¤.</p>
            </div>
            <aside class="notes">
                ë“±ë¡ í›„ Claude Codeì—ì„œ Space ìƒì„±ì„ ìš”ì²­í•˜ë©´ create_genie_space toolì´ í˜¸ì¶œë©ë‹ˆë‹¤.
                ìƒì„±ëœ Spaceì— ì§ˆë¬¸í•˜ë©´ ask_genie toolì´, í›„ì† ì§ˆë¬¸ì€ continue_conversation toolì´ í˜¸ì¶œë©ë‹ˆë‹¤.
            </aside>
        </section>

        <!-- Slide 20: ì •ë¦¬ & Q&A -->
        <section>
            <h2>ì •ë¦¬ & Q&A</h2>
            <ul>
                <li><strong>Space ìƒì„± API</strong>: serialized_space(protobuf v2)ë¡œ í…Œì´ë¸”/ì§€ì‹œì‚¬í•­ ì •ì˜</li>
                <li><strong>ì§ˆì˜ API</strong>: ëŒ€í™” ìƒì„± &rarr; ë©”ì‹œì§€ ì „ì†¡ &rarr; ì ì§„ì  ë°±ì˜¤í”„ í´ë§</li>
                <li><strong>3ê°œ Tool MCP</strong>: create_genie_space + ask_genie + continue_conversation</li>
                <li><strong>Claude Code ì—°ë™</strong>: Space ìƒì„±ë¶€í„° ì§ˆì˜ê¹Œì§€ ìì—°ì–´ë¡œ ìˆ˜í–‰</li>
            </ul>
            <div class="nav-btn-group">
                <a href="../../index.html" class="nav-btn nav-btn-secondary">&larr; í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
                <a href="../05-skills/index.html" class="nav-btn nav-btn-primary">ë‹¤ìŒ ì„¹ì…˜ ì´ë™ &rarr;</a>
            </div>
            <aside class="notes">
                ì´ë²ˆ ì„¹ì…˜ì˜ í•µì‹¬ì„ ì •ë¦¬í•©ë‹ˆë‹¤.
                Genie Spaceë¥¼ APIë¡œ ì§ì ‘ ìƒì„±í•˜ëŠ” ë°©ë²•ê³¼ serialized_spaceì˜ protobuf v2 í˜•ì‹ì„ ë°°ì› ìŠµë‹ˆë‹¤.
                ì§ˆì˜ APIì˜ 3ë‹¨ê³„ êµ¬ì¡°ì™€ ì ì§„ì  ë°±ì˜¤í”„ í´ë§ íŒ¨í„´ì„ ì´í•´í–ˆìŠµë‹ˆë‹¤.
                ì´ë¥¼ 3ê°œì˜ MCP toolë¡œ ë˜í•‘í•˜ì—¬ Claude Codeì—ì„œ ì „ì²´ ì›Œí¬í”Œë¡œìš°ë¥¼ ìì—°ì–´ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ í–ˆìŠµë‹ˆë‹¤.
                ì´ íŒ¨í„´ì€ Genieë¿ ì•„ë‹ˆë¼ ë‹¤ë¥¸ Databricks APIë‚˜ ì™¸ë¶€ ì„œë¹„ìŠ¤ë¥¼ MCPë¡œ ë§Œë“¤ ë•Œë„ ë™ì¼í•˜ê²Œ ì ìš©ë©ë‹ˆë‹¤.
                ì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ ììœ ë¡­ê²Œ í•´ì£¼ì„¸ìš”.
            </aside>
        </section>

    </div></div>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/notes/notes.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/highlight/highlight.js"></script>
    <script>
        Reveal.initialize({ hash: true, slideNumber: true, plugins: [RevealNotes, RevealHighlight] });
    </script>
    <script src="../../shared/scripts/sidebar.js"></script>
    <script src="../../shared/scripts/copy-code.js"></script>
</body>
</html>
